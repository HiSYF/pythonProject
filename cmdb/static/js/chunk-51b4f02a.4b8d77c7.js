(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51b4f02a"],{"3e53":function(t,e,n){"use strict";n("7b86")},"493e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"xterm",style:t.styleVar,attrs:{className:"terminal"}})},i=[],r=(n("a9e3"),n("99af"),n("e9c4"),n("fcf3")),s=n("47d0"),c=(n("abb2"),{name:"Xterm",props:{ip:{type:String},height:{type:Number,default:100}},data:function(){return{term:null,socket:null}},computed:{styleVar:function(){return{"--terminal-height":this.height+"vh"}}},mounted:function(){this.init(),this.initSocket()},beforeDestroy:function(){this.socket.close(),this.term.dispose()},methods:{init:function(){this.term=new r["Terminal"]({fontSize:18,convertEol:!0,rendererType:"canvas",cursorBlink:!0,cursorStyle:"bar",theme:{background:"#060101",cursor:"help"}})},initSocket:function(){var t=this,e=new s["FitAddon"];this.term.loadAddon(e);var n="https:"===window.location.protocol?"wss:":"ws:";this.socket=new WebSocket("".concat(n,"//").concat(window.location.host,"/ws/ssh/1/")),this.socket.onmessage=function(e){var n=new window.FileReader;n.onload=function(){return t.term.write(n.result)},n.readAsText(e.data,"utf-8")},this.socket.onopen=function(){t.term.open(t.$refs.xterm),t.term.focus(),e.fit()},this.socket.onclose=function(e){1234===e.code?(window.location.href="about:blank",window.close()):setTimeout((function(){return t.term.write("\r\nConnection is closed.\r\n")}),200)},this.term.onData((function(e){return t.socket.send(JSON.stringify({data:e}))})),this.term.onResize((function(e){var n=e.cols,o=e.rows;t.socket.send(JSON.stringify({resize:[n,o]}))})),window.onresize=function(){return e.fit()}}}}),a=c,u=(n("3e53"),n("2877")),l=Object(u["a"])(a,o,i,!1,null,"2c59b291",null);e["default"]=l.exports},"7b86":function(t,e,n){}}]);